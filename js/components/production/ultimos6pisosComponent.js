'use strict';var _createClass=function(){function a(b,c){for(var e,d=0;d<c.length;d++)e=c[d],e.enumerable=e.enumerable||!1,e.configurable=!0,'value'in e&&(e.writable=!0),Object.defineProperty(b,e.key,e)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError('Cannot call a class as a function')}function _possibleConstructorReturn(a,b){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return b&&('object'==typeof b||'function'==typeof b)?b:a}function _inherits(a,b){if('function'!=typeof b&&null!==b)throw new TypeError('Super expression must either be null or a function, not '+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var Ultimos6Pisos=function(a){function b(c){_classCallCheck(this,b);var d=_possibleConstructorReturn(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,c));return d.state={ultimos_6_pisos:[],isloading:!0},d}return _inherits(b,a),_createClass(b,[{key:'componentWillMount',value:function componentWillMount(){var c=this;return fetch('/index.php/components/portada/ultimos_6').then(function(d){return d.json()}).then(function(d){c.setState({isloading:!1,ultimos_6:d.ultimos_6})}).catch(function(d){throw alert('Oh!\n\rHa habido un error pintando ultimos pisos'),new Error('Ha habido un error al crear el componente de los ultimos pisos:\n\r'+d)})}},{key:'render',value:function render(){var c=window.location.hostname,e=React.Fragment;if(!1==this.state.isloading)var d=this.state.ultimos_6.map(function(f){var h=f.extras.split('|'),j=h.map(function(o,p){switch(o){case'Cocina':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/009-cocina.png',alt:'Cocina'}));break;case'Frigo':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/004-frigorifico.png',alt:'Frigorigico'}));break;case'Lavadora':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/010-lavadora.png',alt:'Lavadora'}));break;case'Vajilla':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/005-vajilla.png',alt:'Vajilla'}));break;case'Cama':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/006-cama.png',alt:'Cama'}));break;case'Bano':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/011-servicio.png',alt:'Ba\xF1o'}));break;case'Horno':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/008-horno.png',alt:'Horno'}));break;case'Secadora':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/012-secadora.png',alt:'Secadora'}));break;case'TV':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/002-television.png',alt:'TV'}));break;case'Telefono':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/003-phone.png',alt:'Telefono'}));break;case'WIFI':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/001-wifi.png',alt:'Internet'}));break;case'Compartido':return React.createElement('li',{key:p},React.createElement('img',{className:'extras',src:'/img/icons/013-compartido.png',alt:'Compartido'}));break;default:}}),k={width:'100%',height:'100%',backgroundImage:'url(http://'+c+'/img_pisos/'+f.idpiso+'/'+f.imagen+')',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundSize:'cover'},m='http://'+c+'/index.php/pisos/producto_piso?id='+f.idpiso,n='http://maps.google.es/maps?f=q&source=embed&hl=es&geocode=&q='+f.direccion+'&amp;vpsrc=0&amp;ie=UTF8&amp;hq=&amp;hnear='+f.direccion+'&amp;t=m&amp;z=50&amp';return React.createElement('div',{className:'medium-4 cell'},React.createElement('div',{className:'card'},React.createElement('div',{style:k},React.createElement('div',{style:{height:'250px'}})),React.createElement('div',{className:'card-section'},React.createElement('p',{className:'texto'},f.descripcion.replace('[Plazas ofertadas]','').replace('[N\xFAmero habitaciones]','').replace('[Datos del inmueble]','').replace('[Tipo de calefacci\xF3n]','').replace('[Comunidad]','Comunidad: ').substr(1,60),'...'),React.createElement('ul',{className:'opciones'},j)),React.createElement('div',{className:'card-section'},React.createElement('center',null,React.createElement('a',{href:m,className:'button',role:'link'},'Ver piso'),'\xA0',React.createElement('a',{href:n,className:'button',role:'link',target:'_blank'},'Google Maps')))))});return!1==this.state.isloading?React.createElement(e,null,d):React.createElement(e,null,React.createElement('p',{className:'text-center'},React.createElement('img',{src:'http://ipa.uva.es/img/loading2.gif',alt:'Cargando...',width:'150'}),'  Cargando ultimos pisos...'))}}]),b}(React.Component);ReactDOM.render(React.createElement(Ultimos6Pisos,null),document.getElementById('ultimos_6_pisos'));
